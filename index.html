<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Final Music Player UI</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      background-color: #111;
      color: #fff;
      font-family: 'Arial', sans-serif;
      transition: background 0.4s, color 0.4s;
    }

    /* Music Box */
    .music-box {
      width: 260px;
      background-color: #1e1e1e;
      color: inherit;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 0 12px rgba(0, 255, 0, 0.4);
      margin-bottom: 80px;
    }

    .music-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
      margin-bottom: 10px;
    }

    .close-btn {
      cursor: pointer;
      font-size: 18px;
      color: #f55;
    }

    .music-body p {
      margin: 0 0 10px;
      font-weight: bold;
    }

    .music-body progress {
      width: 100%;
      height: 10px;
      margin-bottom: 10px;
    }

    .music-body button {
      width: 100%;
      padding: 10px;
      border: none;
      background-color: #00ff00;
      color: #000;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
    }

    /* Floating Panel */
    .control-panel {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #222;
      border-radius: 12px;
      padding: 15px;
      width: 220px;
      box-shadow: 0 0 10px rgba(0,255,0,0.3);
      transition: all 0.3s;
      z-index: 999;
    }

    .control-panel h4 {
      margin-top: 0;
    }

    .control-panel label, select {
      display: block;
      margin-bottom: 10px;
      width: 100%;
    }

    .control-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #00ff00;
      color: #000;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 20px;
      text-align: center;
      line-height: 40px;
      cursor: pointer;
      z-index: 1000;
    }

    .light-mode {
      background-color: #f9f9f9;
      color: #111;
    }

    .light-mode .music-box {
      background-color: #fff;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }

    .light-mode .control-panel {
      background-color: #eee;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>

<!-- MUSIC BOX -->
<div class="music-box" id="musicBox">
  <div class="music-header">
    <strong>Now Playing</strong>
    <span id="closeMusicBox" class="close-btn">×</span>
  </div>
  <div class="music-body">
    <p id="songTitle">SoundHelix Song 1</p>
    <progress id="musicProgress" value="0" max="100"></progress>
    <button id="playPauseBtn">Play</button>
  </div>
</div>

<audio id="musicPlayer" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<!-- FLOATING PANEL TOGGLE -->
<div class="control-toggle" id="controlToggle">⚙</div>

<!-- FLOATING SETTINGS PANEL -->
<div class="control-panel" id="controlPanel" style="display:none;">
  <h4>Settings</h4>

  <label for="themeToggle">Theme:</label>
  <select id="themeToggle">
    <option value="dark">Dark</option>
    <option value="light">Light</option>
  </select>

  <label for="colorSelect">Text & Button Color:</label>
  <select id="colorSelect">
    <option value="#00ff00">Green</option>
    <option value="#ff0000">Red</option>
    <option value="#0000ff">Blue</option>
    <option value="#ffff00">Yellow</option>
    <option value="#ff00ff">Magenta</option>
    <option value="#00ffff">Cyan</option>
    <option value="#ffffff">White</option>
  </select>

  <label for="fontSelect">Font:</label>
  <select id="fontSelect">
    <option value="Arial">Arial</option>
    <option value="Courier New">Courier New</option>
    <option value="Georgia">Georgia</option>
    <option value="Monospace">Monospace</option>
    <option value="Tahoma">Tahoma</option>
  </select>
</div>

<script>
  // Music Player Logic
  const audio = document.getElementById("musicPlayer");
  const playBtn = document.getElementById("playPauseBtn");
  const progress = document.getElementById("musicProgress");
  const closeBtn = document.getElementById("closeMusicBox");

  playBtn.addEventListener("click", () => {
    if (audio.paused) {
      audio.play();
      playBtn.textContent = "Pause";
    } else {
      audio.pause();
      playBtn.textContent = "Play";
    }
  });

  audio.addEventListener("timeupdate", () => {
    if (audio.duration) {
      const percent = (audio.currentTime / audio.duration) * 100;
      progress.value = percent;
    }
  });

  closeBtn.addEventListener("click", () => {
    audio.pause();
    playBtn.textContent = "Play";
    document.getElementById("musicBox").style.display = "none";
  });

  // Settings Panel Toggle
  const toggleBtn = document.getElementById("controlToggle");
  const controlPanel = document.getElementById("controlPanel");

  toggleBtn.addEventListener("click", () => {
    controlPanel.style.display = controlPanel.style.display === "none" ? "block" : "none";
  });

  // Theme Toggle
  document.getElementById("themeToggle").addEventListener("change", (e) => {
    if (e.target.value === "light") {
      document.body.classList.add("light-mode");
    } else {
      document.body.classList.remove("light-mode");
    }
  });

  // Color Picker
  document.getElementById("colorSelect").addEventListener("change", (e) => {
    const color = e.target.value;
    document.body.style.color = color;
    document.querySelectorAll("button").forEach(btn => btn.style.backgroundColor = color);
    document.querySelectorAll(".control-toggle").forEach(el => el.style.backgroundColor = color);
  });

  // Font Selector
  document.getElementById("fontSelect").addEventListener("change", (e) => {
    document.body.style.fontFamily = e.target.value;
  });
</script>

</body>
</html>